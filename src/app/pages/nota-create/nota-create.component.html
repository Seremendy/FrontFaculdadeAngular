<div class="form-container">
  <h2>ðŸ“Š LanÃ§ar Nota</h2>
  
  @if (errorMessage) {
    <div class="alert error">{{ errorMessage }}</div>
  }

  <form (ngSubmit)="salvar()">
    
    <div class="form-group">
      <label for="aluno">Aluno *</label>
      <select 
        id="aluno"
        [(ngModel)]="selectedAlunoID" 
        name="alunoID"
        [disabled]="isLoading"
        required>
          <option [ngValue]="0" disabled selected>-- Selecione o Aluno --</option>
          @for (aluno of alunos; track aluno.alunoID) {
              <option [ngValue]="aluno.alunoID">
                {{ aluno.alunoNome }}
              </option>
          }
      </select>
    </div>

    <div class="form-group">
      <label for="disciplina">Disciplina *</label>
      <select 
        id="disciplina"
        [(ngModel)]="selectedDisciplinaID" 
        name="disciplinaID"
        [disabled]="isLoading"
        required>
          <option [ngValue]="0" disabled selected>-- Selecione a Disciplina --</option>
          @for (disc of disciplinas; track disc.disciplinaID) {
              <option [ngValue]="disc.disciplinaID">
                {{ disc.nomeDisciplina }}
              </option>
          }
      </select>
    </div>

    <div class="form-group">
      <label for="nota">Nota (0 a 10) *</label>
      <input 
        id="nota"
        [(ngModel)]="notaValor" 
        name="notaValor" 
        type="number" 
        step="0.1" 
        min="0" 
        max="10" 
        placeholder="Ex: 8.5"
        [disabled]="isLoading"
        required>
    </div>

    <div class="actions">
      <button type="submit" class="btn-salvar" [disabled]="isLoading">
        @if (isLoading) {
          <span>Salvando...</span>
        } @else {
          <span>Salvar Nota</span>
        }
      </button>
      
      <button type="button" class="btn-cancelar" (click)="cancelar()">
        Cancelar
      </button>
    </div>

  </form>
</div>