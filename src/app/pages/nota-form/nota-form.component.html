<div class="page-container">
  <div class="card" style="max-width: 600px; margin: 0 auto;">
    
    <h2 style="margin-bottom: 20px;">
      {{ isEditMode ? '‚úèÔ∏è Editar Nota' : 'üìä Lan√ßar Nova Nota' }}
    </h2>

    <form (ngSubmit)="salvar()" #form="ngForm">

      <div class="form-group">
        <label class="form-label">Aluno</label>
        <select class="form-control" [(ngModel)]="nota.alunoID" name="alunoID" required [disabled]="isEditMode">
          <option [value]="0" disabled selected>Selecione um aluno...</option>
          @for (aluno of listaAlunos; track aluno.alunoID) {
            <option [value]="aluno.alunoID">
              {{ aluno.alunoNome }} (CPF: {{ aluno.cpf }})
            </option>
          }
        </select>
      </div>

      <div class="form-group">
        <label class="form-label">Disciplina</label>
        <select class="form-control" [(ngModel)]="nota.disciplinaID" name="disciplinaID" required [disabled]="isEditMode">
          <option [value]="0" disabled selected>Selecione a disciplina...</option>
          @for (disc of listaDisciplinas; track disc.disciplinaID) {
            <option [value]="disc.disciplinaID">
              {{ disc.nomeDisciplina }}
            </option>
          }
        </select>
      </div>

      <div class="form-group">
        <label class="form-label">Valor da Nota (0.0 a 10.0)</label>
        <input 
          type="number" 
          step="0.1" min="0" max="10"
          [(ngModel)]="nota.notaValor" 
          name="notaValor" 
          required 
          class="form-control"
          placeholder="Ex: 8.5"
        >
      </div>

      <div style="display: flex; gap: 10px; margin-top: 20px;">
        <button type="submit" class="btn btn-success" [disabled]="form.invalid || carregando" style="flex: 1;">
          Salvar Nota
        </button>
        <a routerLink="/notas" class="btn btn-danger" style="flex: 1; justify-content: center;">
          Cancelar
        </a>
      </div>

    </form>
  </div>
</div>